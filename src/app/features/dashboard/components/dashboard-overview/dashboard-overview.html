<div class="dashboard-overview">
  @if (taskStore.loading()) {
    <div class="dashboard-overview__loading">
      <mat-spinner></mat-spinner>
      <p>Loading dashboard data...</p>
    </div>
  } @else if (taskStore.error()) {
    <div class="dashboard-overview__error">
      <p>{{ taskStore.error() }}</p>
    </div>
  } @else {
    <div class="dashboard-overview__header">
      <h2>Dashboard Overview</h2>
      <p>Track your task progress and statistics</p>
    </div>

    <div class="dashboard-overview__stats">
      <app-dashboard-stats-card
        title="Total Tasks"
        [value]="taskStore.totalTaskCount()"
        icon="assignment"
        color="primary"
        [clickable]="true"
        filterType="all"
        (cardClick)="onCardClick($event)"
      />

      <app-dashboard-stats-card
        title="Completed"
        [value]="taskStore.completedTasksCount()"
        icon="check_circle"
        color="success"
        [clickable]="true"
        filterType="completed"
        (cardClick)="onCardClick($event)"
      />

      <app-dashboard-stats-card
        title="Pending"
        [value]="taskStore.pendingTasksCount()"
        icon="schedule"
        color="info"
        [clickable]="true"
        filterType="pending"
        (cardClick)="onCardClick($event)"
      />

      <app-dashboard-stats-card
        title="Overdue"
        [value]="taskStore.overdueTasksCount()"
        icon="warning"
        color="error"
        [clickable]="true"
        filterType="overdue"
        (cardClick)="onCardClick($event)"
      />

      <app-dashboard-stats-card
        title="Completion Rate"
        [value]="taskStore.completionRate()"
        icon="trending_up"
        color="success"
        suffix="%"
      />
    </div>

    @if (taskStore.totalTaskCount() === 0) {
      <div class="dashboard-overview__empty">
        <p>
          No tasks found. Start by adding some tasks to see your dashboard
          statistics.
        </p>
      </div>
    }
  }
</div>
